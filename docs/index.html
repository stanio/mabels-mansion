<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/Guide">
<head>
  <meta charset="UTF-8">
  <title itemprop="name">Mabel's Mansion ‚Äì Game Guide</title>
  <meta name="description" itemprop="abstract" content="Mabel's Mansion Game Map &amp; Guide.">
  <meta itemprop="url" content="Mabel's Mansion Game Map &amp; Guide.">
  <meta name="viewport" content="width=device-width">
  <style>
    body {
      font: 16px/1.4 monospace;
      max-width: 80ch;
      color-scheme: dark light;
      background: Canvas;
      color: CanvasText;
    }
    .screens {
      border-spacing: 0;
      border-collapse: separate;
      background: black;
      color: silver;
    }
    .screens > caption {
      color: CanvasText;
      background: Canvas;
      font-style: italic;
    }
    .screens > tbody > tr > :where(td, th) {
      padding: 0 0 4px 0;
    }
    .screens > tbody > tr:last-child > :where(td, th) {
      padding-bottom: 0;
    }
    .screens > * > tr > th {
      padding-left: 4px;
      padding-right: 4px;
    }
    .screens > thead > tr > th {
      padding: 4px;
    }
    .screens img {
      display: block;
      border: none;
      /* Adjust to 4:3 screen aspect ratio */
      width: 256px;
      height: 192px;
      /*image-rendering: pixelated;*/
    }
    h1 {
      font-size: 1.6em;
      display: inline;
    }
    h1 + p {
      display: inline;
    }
    h1::after {
      content: ",";
    }
    h2 { font-size: 1.4em }
    h3 { font-size: 1.2em }
    kbd {
      border: solid thin gray;
      border-radius: 2px;
      background: silver;
      color: black;
      padding: 0 3px;
    }
    figure {
      text-align: center;
    }
    figure > object { display: block; margin: auto }
    figcaption {
      font-style: italic;
    }
    td > img:target { outline: thin yellow dashed }
    :target { background-color: rgba(240, 240, 128, 0.2); }
    @media (max-width: calc(1288px + 4ch)) {
      .screens > caption {
        text-align: left;
      }
    }
    a[href^="#room-"] { white-space: pre }
    #room-preview { box-shadow: 3px 2px 2px rgba(0, 0, 0, 0.5) }
  </style>
</head>
<body>

<div itemscope itemtype="https://schema.org/VideoGame">
  <h1><span itemprop="name">Mabel's Mansion</span></h1>

  <p>An <span itemprop="gamePlatform">Apple <data value="2">II</data></span> game
  from <span itemprop="copyrightYear">1984</span> (<a itemprop="url"
  href="https://www.mobygames.com/game/118412/mabels-mansion/">MobyGames entry</a>).</p>
</div>

<p itemscope itemtype="https://schema.org/UserReview">Based on (idea from) the
<i>"<a itemprop="url" href="http://spacetaxi.epizy.com/WHO/Mabels-Mansion.htm"
    ><span itemprop="headline">Mabel's Mansion</span> Map</a>"</i>
(for Commodore 64) by <span itemprop="author">The Vortex</span>.</p>

<p><kbd>P</kbd>ush, <kbd>O</kbd>pen, <kbd>T</kbd>ake</p>

<table id="game-map" class="screens" border="0">
<caption>Map (<label><input id="reveal-all" type="checkbox"> Reveal all</label
    ><noscript>‚Äì <strong>Scripts are disabled!</strong></noscript>)</caption>
<thead>
  <tr>
    <td></td>
    <th>1</th>
    <th>2</th>
    <th>3</th>
    <th>4</th>
    <th>5</th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>0</th>
    <td><img id="room-01" alt="room-01" title="Room-1"  src="room-01.png"></td>
    <td><img id="room-02" alt="room-02" title="Room-2"  src="room-02.png"></td>
    <td><img id="room-03" alt="room-03" title="Room-3"  src="room-03.png"></td>
    <td><img id="room-04" alt="room-04" title="Room-4"  src="room-04.png"></td>
    <td><img id="room-05" alt="room-05" title="Room-5"  src="room-05.png"></td>
  </tr>
  <tr>
    <th>5+</th>
    <td><img id="room-06" alt="room-06" title="Room-6"  src="room-06.png"></td>
    <td><img id="room-07" alt="room-07" title="Room-7"  src="room-07.png"></td>
    <td><img id="room-08" alt="room-08" title="Room-8"  src="room-08.png"></td>
    <td><img id="room-09" alt="room-09" title="Room-9"  src="room-09.png"></td>
    <td><img id="room-10" alt="room-10" title="Room-10" src="room-10.png"></td>
  </tr>
  <tr>
    <th>10+</th>
    <td><img id="room-11" alt="room-11" title="Room-11" src="room-11.png"></td>
    <td><img id="room-12" alt="room-12" title="Room-12" src="room-12.png"></td>
    <td><img id="room-13" alt="room-13" title="Room-13" src="room-13.png"></td>
    <td><img id="room-14" alt="room-14" title="Room-14" src="room-14.png"></td>
    <td><img id="room-15" alt="room-15" title="Room-15" src="room-15.png"></td>
  </tr>
  <tr>
    <th>15+</th>
    <td><img id="room-16" alt="room-16" title="Room-16" src="room-16.png"></td>
    <td><img id="room-17" alt="room-17" title="Room-17" src="room-17.png"></td>
    <td><img id="room-18" alt="room-18" title="Room-18" src="room-18.png"></td>
    <td><img id="room-19" alt="room-19" title="Room-19" src="room-19.png"></td>
    <td><img id="room-20" alt="room-20" title="Room-20" src="room-20.png"></td>
  </tr>
  <tr>
    <th>20+</th>
    <td><img id="room-21" alt="room-21" title="Room-21" src="room-21.png"></td>
    <td><img id="room-22" alt="room-22" title="Room-22" src="room-22.png"></td>
    <td><img id="room-23" alt="room-23" title="Room-23" src="room-23.png"></td>
    <td><img id="room-24" alt="room-24" title="Room-24" src="room-24.png"></td>
    <td><img id="room-25" alt="room-25" title="Room-25" src="room-25.png"></td>
  </tr>
  <tr>
    <th>25+</th>
    <td><img id="room-26" alt="room-26" title="Room-26" src="room-26.png"></td>
    <td><img id="room-27" alt="room-27" title="Room-27" src="room-27.png"></td>
    <td><img id="room-28" alt="room-28" title="Room-28" src="room-28.png"></td>
    <td><img id="room-29" alt="room-29" title="Room-29" src="room-29.png"></td>
    <td><img id="room-30" alt="room-30" title="Room-30" src="room-30.png"></td>
  </tr>
</tbody>
</table>

<!-- What about addressing the screens as Area/Room?

  Area-1 Room-2 (A1R2)
  Area-3 Room-1 (A3R1)
  Area-6 Room-5 (A6R5)

  Area would be the map row, and rooms always numbered 1-5 from left to right.
  -->

<section>
  <h2>Map Navigation</h2>

  <p>Going through solid-color doors <kbd>F</kbd>orward takes you to the
  screen/room on the next row of the map (not to be confused as changing
  elevation/floor).  Likewise, going through dimmed-color doors
  <kbd>B</kbd>ackward takes you to the previous row of the map.</p>

  <p>When the door reveals stairs up or down, it will take you one floor up or
  down on the target screen/room.</p>

  <figure style="margin-left: 0; margin-right: 0">
    <object data="navigation.svg" tabindex="-1">map-navigation</object>
    <figcaption>Door and floor navigation</figcaption>
  </figure>
</section>

<p>The game ends after collecting <em>exactly <strong>$&nbsp;356260</strong></em>
worth of treasure:</p>

<figure>
  <img alt="$ 356260" src="the-end.png" width="256" height="192"
      id="end-screen" title="Click to toggle animation">
  <figcaption>Ending screen (Barney jumps from joy)</figcaption>
</figure>

<script>
  (() => {
    let img = document.getElementById("end-screen");
    img.tabIndex = 0;
    img.onclick = toggleAnim;
    img.onkeydown = evt => {
      if (evt.keyCode === 32) {
        toggleAnim();
        evt.preventDefault();
      }
    };

    function toggleAnim() {
      img.src = img.classList.toggle("anim") ? "the-end-anim.gif"
                                             : "the-end.png";
    }
  })();
</script>

<aside>See: <a href="https://www.youtube.com/watch?v=yoRZBCN_6v8"
    target="youtube-mm">üéûÔ∏è Mabel's Mansion ‚Äì Ending</a></aside>

<p>Thus said you may not be able to complete the game, walking around the house
indefinetly, if:</p>
<ol>
<li><p>You're unable to collect one of the two buggy(?) items placed on tables:
a jewlery box in <a href="#room-26">Room-26T</a> (top floor), or a "10,000"
bill/check in <a href="#room-28">Room-28T</a> (top floor).  This happens when
you <kbd>P</kbd>ush the table first before taking the item.  Avoid pushing from
the mid-to-the-left side ‚Äì start <kbd>P</kbd>, <kbd>O</kbd>, <kbd>T</kbd> from
the very right.</p>
<p>Normally you can't get these items when you first reach the rooms.  I
recommend leaving these for just before you clear the last room/floor (with
the ghost of lady Mable), and save before that.  Each of these items grant you
$&nbsp;10000.  Only one of them is required to finish the game ‚Äì read further;</p></li>

<li><p>You somehow manage to collect more than $&nbsp;356260.  It is possible,
for example, by skipping to collect a $&nbsp;10 item in the second to last room ‚Äì
<a href="#room-04">Room-4M</a> (middle floor).  There's a $&nbsp;10 gadget under
the light switch next to the door you enter from <a href="#room-09">Room-9T</a>.
If you collect all other possible items, including both of the two buggy ones
mentioned previously, before getting this one ‚Äì you'll end up with $&nbsp;366250,
and the game won't end.  You may then take the small gadget ‚Äì you will end up
with $&nbsp;366260, there will be nothing else left to do and you will be stuck
roaming the house.</p></li>
</ol>
<p>If you haven't collected all other treasure before entering and clearing
the final <a href="#room-03">Room-3T</a> you need to backtrack as necessary.</p>
<p id="alt-end">
If you collect all treasure, incl. the two items from (1), you
could achieve an "alternative" ending while not killing lady Mable's ghost (worth
$&nbsp;10000 on its own):</p>
<ul>
<li>Before entering the final room you should have collected $&nbsp;296260;</li>
<li>Make sure you <kbd>P</kbd>ush the picture in <a href="#room-04">Room-4M</a>
  to enable getting the middle (3rd left to right) money bag in the final room.
  Note, that money bag needs <kbd>O</kbd>pen, <kbd>T</kbd>ake sequence vs.
  <kbd>P</kbd>ush, <kbd>T</kbd>ake for the rest of them;</li>
<li>Enter the final <a href="#room-03">Room-3T</a> and pick up all money bags.
  You can easily dodge lady Mable's ghost by <kbd>J</kbd>umping through her.
  The final money bag (1st left to right) needs you to <kbd>P</kbd>ush and
  <kbd>O</kbd>pen the piano, first.</li>
</ul>
<p>That's it ‚Äì lady Mabel's ghost lives!</p>

<hr>

<p>More glitches I've encountered:</p>
<ul>
<li>Similar to (1) above, in <a href="#room-26">Room-26B</a> (with the Head)
avoid pushing the table under the bird cage before opening it.  Without opening
the cage you can't open the <a href="#room-27">Room-27M</a> door (‚Üê Room-27B ‚Üê
Room-22B ‚Üê Room-21B ‚Üê Room-26B).  See <i><a href="#wall-bugs">Wall bugs</a></i>,
further;</li>
<li>The spear weapon in <a href="#room-25">Room-25M</a> may turn replaced by a
random object <i>(unsure when it could happen)</i>;</li>
<li>Similar to the last one, prolonged <kbd>P</kbd>, <kbd>O</kbd>, <kbd>T</kbd>
may replace the underlying object with a random one, that could be a required
item such as the key in the safe in room <a href="#room-26">Room-26T</a>.</li>
</ul>

<p>See even more glitches in the <a
href="http://spacetaxi.epizy.com/WHO/Mabels-Mansion.htm">guide by Vortext</a> ‚Äì
especially: <em>"Do NOT pickup both daggers at the same time, as you only need
one dagger to kill the Head"</em> (<a href="#room-26">Room-26B</a> on this map).</p>

<h2 id="wall-bugs">Wall Bugs ‚Äì Walk through Walls</h2>

<p>I've found one of these, that doesn't appear mentioned in the Vortex's guide,
only necessary but required.  Pushing the dog house in <a href="#room-28">Room-28B</a>
to the right wall allows you to get to <a href="#room-29">Room-29B</a>.  From
there you may access <a href="#room-30">Room-30T</a> that has the only door out.
This door leads to <a href="#room-25">Room-25T</a> but can't be normally
<kbd>O</kbd>pened and is one-way (<kbd>B</kbd>ackward) only: Room-30T ‚Üí Room-25T.
<i>(Maybe this differs from the Commodore 64 version?)</i></p>

<p>If you fail to open the bird cage in <a href="#room-26">Room-26B</a> you may
need to resort to one of the other walk-through walls, but do that just then.
Going through one of the other walls earlier may get you stuck not able to
advance (after certain place) or go back.  So, if you fail to open the bird cage
try going back to <a href="#room-15">Room-15M</a>.  After pushing the jug to
the right wall you could go to <a href="#room-16">Room-16M</a>.  Then from
the solid-color door <kbd>F</kbd>orward and up ‚Üí <a href="#room-21">Room-21T</a>
(Bear) ‚Üí <a href="#room-22">Room-22T</a> (Mantis) ‚Üí <a href="#room-27">Room-27M</a>.
That is you should be able to open the Room-27M door from the other side.  Notice
the enemy critter possitions when you go that alternative route.</p>

<p>Another possible route is going back to <a href="#room-20">Room-20T</a>.
After pushing the left mirror to the right wall you could get to Room-21T
(Bear) ‚Üí Room-22T (Mantis) ‚Üí Room-27M.</p>

<footer>
  <hr>
  <i>Created: 2023-09-09,
  <a href="https://github.com/stanio/mabels-mansion/">Updated: 2023-09-16</a></i>
</footer>

<img id="room-preview" width="256" height="192" style="display: none" hidden>

<script src="rooms.js" defer></script>

</body>
</html>
